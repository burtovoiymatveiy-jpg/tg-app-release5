    <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ó–∞–∫–∞–∑ —Ä–∞–±–æ—Ç—ã @awarem</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg: #ffffff; --sec-bg: #f4f4f5; --text: #000000; --hint: #707579;
            --card-border: rgba(0,0,0,0.1); --accent: #3390ec; --accent-red: #ff3b30; --accent-green: #34c759;
            --toggle-off: #dee2e6;
        }
        [data-theme="dark"] {
            --bg: #1c1c1d; --sec-bg: #2c2c2e; --text: #ffffff; --hint: #8e8e93; 
            --card-border: rgba(255,255,255,0.1); --toggle-off: #3a3a3c;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg); color: var(--text); margin: 0; padding: 16px;
            display: flex; flex-direction: column; gap: 12px; transition: 0.3s;
        }

        @keyframes pulse-green {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(52, 199, 89, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 6px rgba(52, 199, 89, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(52, 199, 89, 0); }
        }
        .status-dot { width: 8px; height: 8px; border-radius: 50%; }
        .dot-online { background: var(--accent-green); animation: pulse-green 2s infinite; }
        .dot-offline { background: #ff9500; }

        .theme-toggle {
            position: absolute; top: 12px; right: 16px; background: var(--sec-bg);
            border: 1px solid var(--card-border); border-radius: 50%; width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 100;
        }

        .card { background: var(--sec-bg); border-radius: 16px; padding: 14px; border: 1px solid var(--card-border); }
        .label-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 4px; }
        label { font-size: 10px; color: var(--hint); font-weight: 800; text-transform: uppercase; margin: 0; }
        .tip-icon { font-size: 12px; color: var(--accent); cursor: pointer; padding: 2px 6px; background: var(--bg); border-radius: 50%; border: 1px solid var(--card-border); }

        input, select, textarea {
            background: var(--bg); border: 1px solid var(--card-border); border-radius: 10px;
            color: var(--text); font-size: 16px; padding: 10px; width: 100%; box-sizing: border-box; outline: none;
        }

        .switch { position: relative; display: inline-block; width: 40px; height: 22px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: var(--toggle-off); transition: .3s; border-radius: 22px; }
        .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .3s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--accent-green); }
        input:checked + .slider:before { transform: translateX(18px); }

        .preview-box { background: var(--sec-bg); border: 1px dashed var(--hint); border-radius: 12px; padding: 12px; font-family: monospace; font-size: 12px; white-space: pre-line; max-height: 0; opacity: 0; overflow: hidden; transition: 0.4s; }
        .preview-box.show { max-height: 500px; opacity: 1; margin-bottom: 10px; border: 1px solid var(--accent); }

        .main-btn { background: var(--accent); color: white; border: none; padding: 16px; border-radius: 14px; font-size: 16px; font-weight: 700; width: 100%; cursor: pointer; }
        .row { display: flex; gap: 8px; }
        .secondary-btn { background: var(--sec-bg); border: 1px solid var(--card-border); color: var(--accent); padding: 10px; border-radius: 12px; font-size: 13px; font-weight: 600; text-align: center; flex: 1; cursor: pointer; }
        
        .advantage-item { text-align: center; flex: 1; }
        .advantage-icon { font-size: 20px; margin-bottom: 2px; }
        .advantage-text { font-size: 9px; font-weight: 700; color: var(--hint); text-transform: uppercase; }
        .disclaimer { font-size: 10px; color: var(--hint); text-align: center; margin-top: 8px; }
    </style>
</head>
<body>

<div class="theme-toggle" onclick="toggleTheme()" id="theme-btn">‚òÄÔ∏è</div>

<div class="sub-warning" style="margin-right: 50px; background: rgba(255,152,0,0.1); border: 1px solid #ff9800; padding: 8px; border-radius: 10px; font-size: 11px; font-weight: 700; text-align: center;">
    ‚ö†Ô∏è –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!
</div>

<div class="row">
    <div class="secondary-btn" onclick="tg.openTelegramLink('https://t.me/txtandpptx')">üì¢ –ö–∞–Ω–∞–ª</div>
    <div class="secondary-btn" onclick="tg.openTelegramLink('https://t.me/OTZblBblawarem')">‚≠ê –û—Ç–∑—ã–≤—ã</div>
</div>

<div class="card" style="display: flex; align-items: center; justify-content: space-between; padding: 10px 14px;">
    <div style="display: flex; align-items: center; gap: 8px;">
        <div id="status-dot" class="status-dot dot-online"></div>
        <span id="status-text" style="font-size: 12px; font-weight: 800; text-transform: uppercase;">–°—Ç–∞—Ç—É—Å: –°–≤–æ–±–æ–¥–µ–Ω</span>
    </div>
    <span id="response-time" style="font-size: 11px; color: var(--hint);">–û—Ç–≤–µ—Ç: 5-10 –º–∏–Ω</span>
</div>

<div style="display: flex; justify-content: space-around; gap: 8px; margin: 4px 0;">
    <div class="advantage-item">
        <div class="advantage-icon">‚ö°Ô∏è</div>
        <div class="advantage-text">–ë—ã—Å—Ç—Ä–æ</div>
    </div>
    <div class="advantage-item">
        <div class="advantage-icon">üíé</div>
        <div class="advantage-text">–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ</div>
    </div>
    <div class="advantage-item">
        <div class="advantage-icon">üîí</div>
        <div class="advantage-text">–ê–Ω–æ–Ω–∏–º–Ω–æ</div>
    </div>
</div>

<div class="card">
    <div class="label-row">
        <label>–í–∏–¥ —Ä–∞–±–æ—Ç—ã –∏ —É—Ä–æ–≤–µ–Ω—å</label>
        <span class="tip-icon" onclick="showTip('level')">?</span>
    </div>
    <div class="row">
        <select id="type" onchange="update()" style="flex: 2;">
            <option value="–†–µ—Ñ–µ—Ä–∞—Ç">üìù –†–µ—Ñ–µ—Ä–∞—Ç</option>
            <option value="–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è">üìä –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è</option>
            <option value="–î–æ–∫–ª–∞–¥">üé§ –î–æ–∫–ª–∞–¥</option>
            <option value="–ü—Ä–æ–µ–∫—Ç">üí° –ü—Ä–æ–µ–∫—Ç</option>
            <option value="–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ª–µ–∫—Ü–∏—é">üñã –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ª–µ–∫—Ü–∏—é</option>
        </select>
        <select id="level" onchange="update()" style="flex: 1.2;">
            <option value="–®–∫–æ–ª–∞">üè´ –®–∫–æ–ª–∞</option>
            <option value="–ö–æ–ª–ª–µ–¥–∂">üéì –ö–æ–ª–ª–µ–¥–∂</option>
            <option value="–í–£–ó">üèõ –í–£–ó</option>
        </select>
    </div>
    
    <div class="row" style="margin-top:10px">
        <div style="flex:1">
            <label id="unit-label">–ö–æ–ª-–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü</label>
            <input type="number" id="count" placeholder="0" oninput="update()">
        </div>
        <div style="flex:1">
            <div class="label-row">
                <label>–î–µ–¥–ª–∞–π–Ω</label>
                <span class="tip-icon" onclick="showTip('deadline')">?</span>
            </div>
            <input type="text" id="date" maxlength="5" placeholder="25.05" oninput="update()">
        </div>
    </div>
</div>

<div class="card">
    <div class="label-row">
        <label>–î–µ—Ç–∞–ª–∏ –∏ –±—é–¥–∂–µ—Ç</label>
        <span class="tip-icon" onclick="showTip('details')">?</span>
    </div>
    <textarea id="details" rows="2" placeholder="–®—Ä–∏—Ñ—Ç Times New Roman, —Ç–µ–º–∞..." oninput="update()"></textarea>
    <div style="margin-top:10px">
        <label>–°—É–º–º–∞ (‚ÇΩ)</label>
        <input type="text" id="price" placeholder="500" oninput="update()">
    </div>
</div>

<div class="card" style="padding: 12px 14px; display: flex; justify-content: space-between; align-items: center;">
    <span style="font-size: 14px; font-weight: 700;">üö® –°—Ä–æ—á–Ω—ã–π –∑–∞–∫–∞–∑</span>
    <label class="switch"><input type="checkbox" id="urgent" onchange="update()"><span class="slider"></span></label>
</div>

<div class="preview-box" id="preview"></div>
<button class="main-btn" onclick="copy()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∫–µ—Ç—É</button>

<div class="row">
    <button class="secondary-btn" style="color:var(--accent-red)" onclick="clearAll()">üóë –û—á–∏—Å—Ç–∏—Ç—å</button>
    <button class="secondary-btn" onclick="tg.openTelegramLink('https://t.me/OTZblBblawarem')">‚úçÔ∏è –û—Ç–∑—ã–≤</button>
</div>

<div class="disclaimer">
    üí≥ <b>–ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ 100%</b> | ‚úÖ –ë–µ–∑ –∞–Ω—Ç–∏–ø–ª–∞–≥–∏–∞—Ç–∞
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    function showTip(f) {
        const tips = {
            level: "–£–∫–∞–∂–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã.",
            deadline: "–î–∞—Ç–∞ —Å–¥–∞—á–∏ (–î–î.–ú–ú).",
            details: "–£–∫–∞–∂–∏—Ç–µ —Ç–µ–º—É –∏ –≤–∞–∂–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (–∏—Å—Ç–æ—á–Ω–∏–∫–∏, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ)."
        };
        tg.showAlert(tips[f]);
    }

    function checkNight() {
        const now = new Date();
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ú–°–ö+6 (–Ø–∫—É—Ç—Å–∫)
        const options = { timeZone: 'Asia/Yakutsk', hour: 'numeric', hour12: false };
        const h = parseInt(new Intl.DateTimeFormat('ru-RU', options).format(now));
        
        const isN = h >= 23 || h < 7;
        const sT = document.getElementById('status-text');
        const sD = document.getElementById('status-dot');
        const rT = document.getElementById('response-time');

        if (isN) {
            sT.innerText = "–°—Ç–∞—Ç—É—Å: –°–ø–ª—é"; 
            sT.style.color = "var(--hint)";
            sD.className = "status-dot dot-offline"; 
            rT.innerText = "–û—Ç–≤–µ—á—É —É—Ç—Ä–æ–º (–ú–°–ö+6)";
        } else {
            sT.innerText = "–°—Ç–∞—Ç—É—Å: –°–≤–æ–±–æ–¥–µ–Ω";
            sT.style.color = "var(--accent-green)";
            sD.className = "status-dot dot-online";
            rT.innerText = "–û—Ç–≤–µ—Ç: 5-10 –º–∏–Ω";
        }
    }

    function toggleTheme() {
        const isD = document.body.getAttribute('data-theme') === 'dark';
        document.body.setAttribute('data-theme', isD ? 'light' : 'dark');
        document.getElementById('theme-btn').innerText = isD ? '‚òÄÔ∏è' : 'üåô';
        tg.HapticFeedback.impactOccurred('light');
    }

    // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ç–µ–º–æ–π –¢–ì –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
    if (tg.colorScheme === 'dark') {
        document.body.setAttribute('data-theme', 'dark');
        document.getElementById('theme-btn').innerText = 'üåô';
    }

    function update() {
        const type = document.getElementById('type').value, level = document.getElementById('level').value,
              count = document.getElementById('count').value, date = document.getElementById('date').value,
              price = document.getElementById('price').value, det = document.getElementById('details').value || '–Ω–µ—Ç',
              urg = document.getElementById('urgent').checked;

        document.getElementById('unit-label').innerText = type.includes("–ü—Ä–µ–∑") ? "–ö–æ–ª-–≤–æ —Å–ª–∞–π–¥–æ–≤" : "–ö–æ–ª-–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü";
        const show = count && date.length >= 4 && price;
        document.getElementById('preview').classList.toggle('show', !!show);

        let h = urg ? 'üö® –°–†–û–ß–ù–´–ô –ó–ê–ö–ê–ó üö®\n' : '';
        document.getElementById('preview').innerText = `${h}1. –í–∏–¥: ${type} (${level})\n2. –ö–æ–ª-–≤–æ: ${count}\n3. –î–µ–¥–ª–∞–π–Ω: ${date}\n4. –°—É–º–º–∞: ${price} —Ä—É–±.\n5. –î–µ—Ç–∞–ª–∏: ${det}\n---\n‚úÖ –°–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ 100% –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—É –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–Ω—Ç–∏–ø–ª–∞–≥–∏–∞—Ç–∞.`;
    }

    function copy() {
        const c = document.getElementById('count'), d = document.getElementById('date'), p = document.getElementById('price');
        if (!c.value || d.value.length < 4 || !p.value) { tg.showAlert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è!"); return; }
        
        const area = document.createElement("textarea");
        area.value = document.getElementById('preview').innerText;
        document.body.appendChild(area); area.select();
        document.execCommand('copy'); document.body.removeChild(area);
        
        tg.HapticFeedback.notificationOccurred('success');
        tg.showAlert("–ê–Ω–∫–µ—Ç–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!");
        setTimeout(() => tg.openTelegramLink("https://t.me/awarem"), 800);
    }

    function clearAll() {
        if(confirm("–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ø–æ–ª—è?")) {
            document.querySelectorAll('input, textarea').forEach(el => el.value = '');
            document.getElementById('urgent').checked = false; update();
        }
    }

    checkNight(); 
    update();
</script>
</body>
</html>
